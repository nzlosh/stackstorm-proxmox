name: cluster_replication_update
pack: proxmox
runner_type: python-script
description: "Update replication job configuration."
enabled: true
entry_point: "cluster_replication_update.py"
parameters:
  comment:
    description: "Description."
    type: string
    required: false
    secret: false
  delete:
    description: "A list of settings you want to delete."
    type: string
    required: false
    secret: false
  digest:
    description: "Prevent changes if current configuration file has different SHA1 digest. This can be used to prevent concurrent modifications."
    type: string
    required: false
    secret: false
  disable:
    description: "Flag to disable/deactivate the entry."
    type: boolean
    required: false
    secret: false
  id:
    description: "Replication Job ID. The ID is composed of a Guest ID and a job number, separated by a hyphen, i.e. '<GUEST>-<JOBNUM>'."
    type: string
    required: true
    secret: false
  rate:
    description: "Rate limit in mbps (megabytes per second) as floating point number."
    type: number
    required: false
    secret: false
  remove_job:
    description: "Mark the replication job for removal. The job will remove all local replication snapshots. When set to 'full', it also tries to remove replicated volumes on the target. The job then removes itself from the configuration file."
    enum:
      - local
      - full
    type: string
    required: false
    secret: false
  schedule:
    description: "Storage replication schedule. The format is a subset of `systemd` calendar events."
    default: "*/15"
    type: string
    required: false
    secret: false
  source:
    description: "For internal use, to detect if the guest was stolen."
    type: string
    required: false
    secret: false
