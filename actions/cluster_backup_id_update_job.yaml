name: cluster_backup_id_update_job
pack: proxmox
runner_type: python-script
description: "Update vzdump backup job definition."
enabled: true
entry_point: "cluster_backup_id_update_job.py"
parameters:
  api_timeout:
    description: "Time in seconds to wait for API response. (Default: 5)"
    type: integer
    required: false
    default: 5
  prox_all:
    description: "Backup all known guest systems on this host."
    type: boolean
    required: false
  bwlimit:
    description: "Limit I/O bandwidth (in KiB/s)."
    type: integer
    required: false
  comment:
    description: "Description for the Job."
    type: string
    required: false
  compress:
    description: "Compress dump file."
    type: string
    required: false
  delete:
    description: "A list of settings you want to delete."
    type: string
    required: false
  dow:
    description: "Day of week selection."
    type: string
    required: false
  dumpdir:
    description: "Store resulting files to specified directory."
    type: string
    required: false
  enabled:
    description: "Enable or disable the job."
    type: boolean
    required: false
  exclude:
    description: "Exclude specified guest systems (assumes --all)"
    type: string
    required: false
  exclude_path:
    description: "Exclude certain files/directories (shell globs). Paths starting with '/' are anchored to the container's root,  other paths match relative to each subdirectory."
    type: array
    required: false
  prox_id:
    description: "The job ID."
    type: string
    required: true
  ionice:
    description: "Set IO priority when using the BFQ scheduler. For snapshot and suspend mode backups of VMs, this only affects the compressor. A value of 8 means the idle priority is used, otherwise the best-effort priority is used with the specified value."
    type: integer
    required: false
  lockwait:
    description: "Maximal time to wait for the global lock (minutes)."
    type: integer
    required: false
  mailnotification:
    description: "Deprecated: use 'notification-policy' instead."
    type: string
    required: false
  mailto:
    description: "Comma-separated list of email addresses or users that should receive email notifications. Has no effect if the 'notification-target' option  is set at the same time."
    type: string
    required: false
  maxfiles:
    description: "Deprecated: use 'prune-backups' instead. Maximal number of backup files per guest system."
    type: integer
    required: false
  mode:
    description: "Backup mode."
    type: string
    required: false
  node:
    description: "Only run if executed on this node."
    type: string
    required: false
  notes_template:
    description: "Template string for generating notes for the backup(s). It can contain variables which will be replaced by their values. Currently supported are {{cluster}}, {{guestname}}, {{node}}, and {{vmid}}, but more might be added in the future. Needs to be a single line, newline and backslash need to be escaped as '\\n' and '\\\\' respectively."
    type: string
    required: false
  notification_policy:
    description: "Specify when to send a notification"
    type: string
    required: false
  notification_target:
    description: "Determine the target to which notifications should be sent. Can either be a notification endpoint or a notification group. This option takes precedence over 'mailto', meaning that if both are  set, the 'mailto' option will be ignored."
    type: string
    required: false
  performance:
    description: "Other performance-related settings."
    type: string
    required: false
  pigz:
    description: "Use pigz instead of gzip when N>0. N=1 uses half of cores, N>1 uses N as thread count."
    type: integer
    required: false
  pool:
    description: "Backup all known guest systems included in the specified pool."
    type: string
    required: false
  protected:
    description: "If true, mark backup(s) as protected."
    type: boolean
    required: false
  prune_backups:
    description: "Use these retention options instead of those from the storage configuration."
    type: string
    required: false
  quiet:
    description: "Be quiet."
    type: boolean
    required: false
  remove:
    description: "Prune older backups according to 'prune-backups'."
    type: boolean
    required: false
  repeat_missed:
    description: "If true, the job will be run as soon as possible if it was missed while the scheduler was not running."
    type: boolean
    required: false
  schedule:
    description: "Backup schedule. The format is a subset of `systemd` calendar events."
    type: string
    required: false
  script:
    description: "Use specified hook script."
    type: string
    required: false
  starttime:
    description: "Job Start time."
    type: string
    required: false
  stdexcludes:
    description: "Exclude temporary files and logs."
    type: boolean
    required: false
  stop:
    description: "Stop running backup jobs on this host."
    type: boolean
    required: false
  stopwait:
    description: "Maximal time to wait until a guest system is stopped (minutes)."
    type: integer
    required: false
  storage:
    description: "Store resulting file to this storage."
    type: string
    required: false
  tmpdir:
    description: "Store temporary files to specified directory."
    type: string
    required: false
  vmid:
    description: "The ID of the guest system you want to backup."
    type: string
    required: false
  zstd:
    description: "Zstd threads. N=0 uses half of the available cores, N>0 uses N as thread count."
    type: integer
    required: false
  profile_name:
    description: "The profile to use to run the action."
    type: string
    required: false
